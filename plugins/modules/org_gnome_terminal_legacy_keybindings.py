#!/usr/bin/python
# -*- coding: utf-8 -*-

# Copyright (c) 2023, Jules
# All rights reserved.

from __future__ import absolute_import, division, print_function
__metaclass__ = type

DOCUMENTATION = r'''
---
module: org_gnome_terminal_legacy_keybindings
short_description: Manages GNOME GSettings for org.gnome.Terminal.Legacy.Keybindings
description:
  - >
    This module allows for the configuration of GSettings keys within the 'org.gnome.Terminal.Legacy.Keybindings' schema.
  - >
    It supports setting default values and locking keys to enforce system-wide policies.
author:
  - Autogenerated by ansible-gnome-lockdown
version_added: "1.1.0"
options:
  new-tab:
    description:
    - Keyboard shortcut to open a new tab
    - Description - Schema Blank
    type: str
    default: <Control><Shift>t

  new-tab_locked:
    description:
    - >
      If set to true, locks the 'new-tab' key to prevent user modification.
    type: bool
    default: false
  new-window:
    description:
    - Keyboard shortcut to open a new window
    - Description - Schema Blank
    type: str
    default: <Control><Shift>n

  new-window_locked:
    description:
    - >
      If set to true, locks the 'new-window' key to prevent user modification.
    type: bool
    default: false
  save-contents:
    description:
    - Keyboard shortcut to save the current tab contents to file
    - Description - Schema Blank
    type: str
    default: disabled

  save-contents_locked:
    description:
    - >
      If set to true, locks the 'save-contents' key to prevent user modification.
    type: bool
    default: false
  export:
    description:
    - Keyboard shortcut to export the current tab contents to file in various formats
    - Description - Schema Blank
    type: str
    default: disabled

  export_locked:
    description:
    - >
      If set to true, locks the 'export' key to prevent user modification.
    type: bool
    default: false
  print:
    description:
    - Keyboard shortcut to print the current tab contents to printer or file
    - Description - Schema Blank
    type: str
    default: disabled

  print_locked:
    description:
    - >
      If set to true, locks the 'print' key to prevent user modification.
    type: bool
    default: false
  close-tab:
    description:
    - Keyboard shortcut to close a tab
    - Description - Schema Blank
    type: str
    default: <Control><Shift>w

  close-tab_locked:
    description:
    - >
      If set to true, locks the 'close-tab' key to prevent user modification.
    type: bool
    default: false
  close-window:
    description:
    - Keyboard shortcut to close a window
    - Description - Schema Blank
    type: str
    default: <Control><Shift>q

  close-window_locked:
    description:
    - >
      If set to true, locks the 'close-window' key to prevent user modification.
    type: bool
    default: false
  copy:
    description:
    - Keyboard shortcut to copy text
    - Description - Schema Blank
    type: str
    default: <Control><Shift>c

  copy_locked:
    description:
    - >
      If set to true, locks the 'copy' key to prevent user modification.
    type: bool
    default: false
  copy-html:
    description:
    - Keyboard shortcut to copy text as HTML
    - Description - Schema Blank
    type: str
    default: disabled

  copy-html_locked:
    description:
    - >
      If set to true, locks the 'copy-html' key to prevent user modification.
    type: bool
    default: false
  paste:
    description:
    - Keyboard shortcut to paste text
    - Description - Schema Blank
    type: str
    default: <Control><Shift>v

  paste_locked:
    description:
    - >
      If set to true, locks the 'paste' key to prevent user modification.
    type: bool
    default: false
  select-all:
    description:
    - Keyboard shortcut to select all text
    - Description - Schema Blank
    type: str
    default: disabled

  select-all_locked:
    description:
    - >
      If set to true, locks the 'select-all' key to prevent user modification.
    type: bool
    default: false
  preferences:
    description:
    - Keyboard shortcut to open the Preferences dialog
    - Description - Schema Blank
    type: str
    default: disabled

  preferences_locked:
    description:
    - >
      If set to true, locks the 'preferences' key to prevent user modification.
    type: bool
    default: false
  full-screen:
    description:
    - Keyboard shortcut to toggle full screen mode
    - Description - Schema Blank
    type: str
    default: F11

  full-screen_locked:
    description:
    - >
      If set to true, locks the 'full-screen' key to prevent user modification.
    type: bool
    default: false
  toggle-menubar:
    description:
    - Keyboard shortcut to toggle the visibility of the menubar
    - Description - Schema Blank
    type: str
    default: disabled

  toggle-menubar_locked:
    description:
    - >
      If set to true, locks the 'toggle-menubar' key to prevent user modification.
    type: bool
    default: false
  read-only:
    description:
    - Keyboard shortcut to toggle the read-only state
    - Description - Schema Blank
    type: str
    default: disabled

  read-only_locked:
    description:
    - >
      If set to true, locks the 'read-only' key to prevent user modification.
    type: bool
    default: false
  reset:
    description:
    - Keyboard shortcut to reset the terminal
    - Description - Schema Blank
    type: str
    default: disabled

  reset_locked:
    description:
    - >
      If set to true, locks the 'reset' key to prevent user modification.
    type: bool
    default: false
  reset-and-clear:
    description:
    - Keyboard shortcut to reset and clear the terminal
    - Description - Schema Blank
    type: str
    default: disabled

  reset-and-clear_locked:
    description:
    - >
      If set to true, locks the 'reset-and-clear' key to prevent user modification.
    type: bool
    default: false
  find:
    description:
    - Keyboard shortcut to open the search dialog
    - Description - Schema Blank
    type: str
    default: <Control><Shift>F

  find_locked:
    description:
    - >
      If set to true, locks the 'find' key to prevent user modification.
    type: bool
    default: false
  find-next:
    description:
    - Keyboard shortcut to find the next occurrence of the search term
    - Description - Schema Blank
    type: str
    default: <Control><Shift>G

  find-next_locked:
    description:
    - >
      If set to true, locks the 'find-next' key to prevent user modification.
    type: bool
    default: false
  find-previous:
    description:
    - Keyboard shortcut to find the previous occurrence of the search term
    - Description - Schema Blank
    type: str
    default: <Control><Shift>H

  find-previous_locked:
    description:
    - >
      If set to true, locks the 'find-previous' key to prevent user modification.
    type: bool
    default: false
  find-clear:
    description:
    - Keyboard shortcut to clear the find highlighting
    - Description - Schema Blank
    type: str
    default: <Control><Shift>J

  find-clear_locked:
    description:
    - >
      If set to true, locks the 'find-clear' key to prevent user modification.
    type: bool
    default: false
  prev-tab:
    description:
    - Keyboard shortcut to switch to the previous tab
    - Description - Schema Blank
    type: str
    default: <Control>Page_Up

  prev-tab_locked:
    description:
    - >
      If set to true, locks the 'prev-tab' key to prevent user modification.
    type: bool
    default: false
  next-tab:
    description:
    - Keyboard shortcut to switch to the next tab
    - Description - Schema Blank
    type: str
    default: <Control>Page_Down

  next-tab_locked:
    description:
    - >
      If set to true, locks the 'next-tab' key to prevent user modification.
    type: bool
    default: false
  move-tab-left:
    description:
    - Keyboard shortcut to move the current tab to the left
    - Description - Schema Blank
    type: str
    default: <Control><Shift>Page_Up

  move-tab-left_locked:
    description:
    - >
      If set to true, locks the 'move-tab-left' key to prevent user modification.
    type: bool
    default: false
  move-tab-right:
    description:
    - Keyboard shortcut to move the current tab to the right
    - Description - Schema Blank
    type: str
    default: <Control><Shift>Page_Down

  move-tab-right_locked:
    description:
    - >
      If set to true, locks the 'move-tab-right' key to prevent user modification.
    type: bool
    default: false
  detach-tab:
    description:
    - Keyboard shortcut to detach current tab
    - Description - Schema Blank
    type: str
    default: disabled

  detach-tab_locked:
    description:
    - >
      If set to true, locks the 'detach-tab' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-1:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>1

  switch-to-tab-1_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-1' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-2:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>2

  switch-to-tab-2_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-2' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-3:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>3

  switch-to-tab-3_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-3' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-4:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>4

  switch-to-tab-4_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-4' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-5:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>5

  switch-to-tab-5_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-5' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-6:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>6

  switch-to-tab-6_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-6' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-7:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>7

  switch-to-tab-7_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-7' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-8:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>8

  switch-to-tab-8_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-8' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-9:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>9

  switch-to-tab-9_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-9' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-10:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: <Alt>0

  switch-to-tab-10_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-10' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-11:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-11_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-11' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-12:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-12_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-12' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-13:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-13_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-13' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-14:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-14_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-14' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-15:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-15_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-15' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-16:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-16_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-16' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-17:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-17_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-17' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-18:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-18_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-18' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-19:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-19_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-19' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-20:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-20_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-20' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-21:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-21_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-21' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-22:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-22_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-22' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-23:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-23_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-23' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-24:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-24_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-24' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-25:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-25_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-25' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-26:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-26_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-26' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-27:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-27_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-27' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-28:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-28_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-28' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-29:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-29_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-29' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-30:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-30_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-30' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-31:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-31_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-31' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-32:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-32_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-32' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-33:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-33_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-33' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-34:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-34_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-34' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-35:
    description:
    - Keyboard shortcut to switch to the numbered tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-35_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-35' key to prevent user modification.
    type: bool
    default: false
  switch-to-tab-last:
    description:
    - Keyboard shortcut to switch to the last tab
    - Description - Schema Blank
    type: str
    default: disabled

  switch-to-tab-last_locked:
    description:
    - >
      If set to true, locks the 'switch-to-tab-last' key to prevent user modification.
    type: bool
    default: false
  help:
    description:
    - Keyboard shortcut to launch help
    - Description - Schema Blank
    type: str
    default: disabled

  help_locked:
    description:
    - >
      If set to true, locks the 'help' key to prevent user modification.
    type: bool
    default: false
  zoom-in:
    description:
    - Keyboard shortcut to make font larger
    - Description - Schema Blank
    type: str
    default: <Control>plus

  zoom-in_locked:
    description:
    - >
      If set to true, locks the 'zoom-in' key to prevent user modification.
    type: bool
    default: false
  zoom-out:
    description:
    - Keyboard shortcut to make font smaller
    - Description - Schema Blank
    type: str
    default: <Control>minus

  zoom-out_locked:
    description:
    - >
      If set to true, locks the 'zoom-out' key to prevent user modification.
    type: bool
    default: false
  zoom-normal:
    description:
    - Keyboard shortcut to make font normal-size
    - Description - Schema Blank
    type: str
    default: <Control>0

  zoom-normal_locked:
    description:
    - >
      If set to true, locks the 'zoom-normal' key to prevent user modification.
    type: bool
    default: false
  header-menu:
    description:
    - Keyboard shortcut to show the primary menu
    - Description - Schema Blank
    type: str
    default: disabled

  header-menu_locked:
    description:
    - >
      If set to true, locks the 'header-menu' key to prevent user modification.
    type: bool
    default: false
'''

EXAMPLES = r'''
- name: Configure and lock GNOME desktop settings for org.gnome.Terminal.Legacy.Keybindings
  org_gnome_terminal_legacy_keybindings:
    new-tab: <Control><Shift>t

    new-window: <Control><Shift>n

    save-contents: disabled

    export: disabled

    print: disabled

    close-tab: <Control><Shift>w

    close-window: <Control><Shift>q

    copy: <Control><Shift>c

    copy-html: disabled

    paste: <Control><Shift>v

    select-all: disabled

    preferences: disabled

    full-screen: F11

    toggle-menubar: disabled

    read-only: disabled

    reset: disabled

    reset-and-clear: disabled

    find: <Control><Shift>F

    find-next: <Control><Shift>G

    find-previous: <Control><Shift>H

    find-clear: <Control><Shift>J

    prev-tab: <Control>Page_Up

    next-tab: <Control>Page_Down

    move-tab-left: <Control><Shift>Page_Up

    move-tab-right: <Control><Shift>Page_Down

    detach-tab: disabled

    switch-to-tab-1: <Alt>1

    switch-to-tab-2: <Alt>2

    switch-to-tab-3: <Alt>3

    switch-to-tab-4: <Alt>4

    switch-to-tab-5: <Alt>5

    switch-to-tab-6: <Alt>6

    switch-to-tab-7: <Alt>7

    switch-to-tab-8: <Alt>8

    switch-to-tab-9: <Alt>9

    switch-to-tab-10: <Alt>0

    switch-to-tab-11: disabled

    switch-to-tab-12: disabled

    switch-to-tab-13: disabled

    switch-to-tab-14: disabled

    switch-to-tab-15: disabled

    switch-to-tab-16: disabled

    switch-to-tab-17: disabled

    switch-to-tab-18: disabled

    switch-to-tab-19: disabled

    switch-to-tab-20: disabled

    switch-to-tab-21: disabled

    switch-to-tab-22: disabled

    switch-to-tab-23: disabled

    switch-to-tab-24: disabled

    switch-to-tab-25: disabled

    switch-to-tab-26: disabled

    switch-to-tab-27: disabled

    switch-to-tab-28: disabled

    switch-to-tab-29: disabled

    switch-to-tab-30: disabled

    switch-to-tab-31: disabled

    switch-to-tab-32: disabled

    switch-to-tab-33: disabled

    switch-to-tab-34: disabled

    switch-to-tab-35: disabled

    switch-to-tab-last: disabled

    help: disabled

    zoom-in: <Control>plus

    zoom-out: <Control>minus

    zoom-normal: <Control>0

    header-menu: disabled

'''

RETURN = r'''
# Default return values
'''

from ansible.module_utils.basic import AnsibleModule
import os
import configparser

def main():
    """Main function for the Ansible module."""
    # We have to do gross stuff with the bools here.
    keys_spec = {
        'new-tab': {
            'default': '<Control><Shift>t',
            'type': 'str',
            'gtype':'s',
        },
        'new-window': {
            'default': '<Control><Shift>n',
            'type': 'str',
            'gtype':'s',
        },
        'save-contents': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'export': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'print': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'close-tab': {
            'default': '<Control><Shift>w',
            'type': 'str',
            'gtype':'s',
        },
        'close-window': {
            'default': '<Control><Shift>q',
            'type': 'str',
            'gtype':'s',
        },
        'copy': {
            'default': '<Control><Shift>c',
            'type': 'str',
            'gtype':'s',
        },
        'copy-html': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'paste': {
            'default': '<Control><Shift>v',
            'type': 'str',
            'gtype':'s',
        },
        'select-all': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'preferences': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'full-screen': {
            'default': 'F11',
            'type': 'str',
            'gtype':'s',
        },
        'toggle-menubar': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'read-only': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'reset': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'reset-and-clear': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'find': {
            'default': '<Control><Shift>F',
            'type': 'str',
            'gtype':'s',
        },
        'find-next': {
            'default': '<Control><Shift>G',
            'type': 'str',
            'gtype':'s',
        },
        'find-previous': {
            'default': '<Control><Shift>H',
            'type': 'str',
            'gtype':'s',
        },
        'find-clear': {
            'default': '<Control><Shift>J',
            'type': 'str',
            'gtype':'s',
        },
        'prev-tab': {
            'default': '<Control>Page_Up',
            'type': 'str',
            'gtype':'s',
        },
        'next-tab': {
            'default': '<Control>Page_Down',
            'type': 'str',
            'gtype':'s',
        },
        'move-tab-left': {
            'default': '<Control><Shift>Page_Up',
            'type': 'str',
            'gtype':'s',
        },
        'move-tab-right': {
            'default': '<Control><Shift>Page_Down',
            'type': 'str',
            'gtype':'s',
        },
        'detach-tab': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-1': {
            'default': '<Alt>1',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-2': {
            'default': '<Alt>2',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-3': {
            'default': '<Alt>3',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-4': {
            'default': '<Alt>4',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-5': {
            'default': '<Alt>5',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-6': {
            'default': '<Alt>6',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-7': {
            'default': '<Alt>7',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-8': {
            'default': '<Alt>8',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-9': {
            'default': '<Alt>9',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-10': {
            'default': '<Alt>0',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-11': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-12': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-13': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-14': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-15': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-16': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-17': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-18': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-19': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-20': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-21': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-22': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-23': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-24': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-25': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-26': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-27': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-28': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-29': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-30': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-31': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-32': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-33': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-34': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-35': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'switch-to-tab-last': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'help': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
        'zoom-in': {
            'default': '<Control>plus',
            'type': 'str',
            'gtype':'s',
        },
        'zoom-out': {
            'default': '<Control>minus',
            'type': 'str',
            'gtype':'s',
        },
        'zoom-normal': {
            'default': '<Control>0',
            'type': 'str',
            'gtype':'s',
        },
        'header-menu': {
            'default': 'disabled',
            'type': 'str',
            'gtype':'s',
        },
    }

    argument_spec = {}
    for key_name, spec in keys_spec.items():
        argument_spec[key_name] = spec
        argument_spec[f"{key_name}_locked"] = {'type': 'bool', 'default': False}

    module = AnsibleModule(
        argument_spec=argument_spec,
        supports_check_mode=True
    )

    changed = False

    settings_dir = "/etc/dconf/db/local.d"
    locks_dir = os.path.join(settings_dir, "locks")

    settings_file_path = os.path.join(settings_dir, "00-ansible-org.gnome.Terminal.Legacy.Keybindings")
    lock_file_path = os.path.join(locks_dir, "ansible-org.gnome.Terminal.Legacy.Keybindings")

    schema_full_path = "None"
    config_section = schema_full_path.strip('/')

    os.makedirs(settings_dir, exist_ok=True)
    os.makedirs(locks_dir, exist_ok=True)

    # Idempotency: Read current settings
    current_settings = configparser.ConfigParser()
    if os.path.exists(settings_file_path):
        current_settings.read(settings_file_path)

    # Idempotency: Read current locks from our dedicated lock file
    current_locks = []
    if os.path.exists(lock_file_path):
        with open(lock_file_path, 'r') as f:
            current_locks = [line.strip() for line in f if line.strip()]

    # Prepare settings and locks based on module parameters
    new_settings = configparser.ConfigParser()
    new_settings.add_section(config_section)
    new_locks = []

    for key_name, spec in keys_spec.items():
        param_value = module.params[key_name]
        param_locked = module.params[f"{key_name}_locked"]

        if spec['type'] == 'bool':
            setting_value = str(param_value).lower()
        elif spec['type'] == 'str':
            setting_value = f'{param_value}'
        else:
            setting_value = str(param_value)

        new_settings.set(config_section, key_name, setting_value)

        if param_locked:
            new_locks.append(f"{schema_full_path}{key_name}")

    # Check for changes
    settings_changed = False
    if not current_settings.has_section(config_section) or \
       (current_settings.has_section(config_section) and dict(current_settings.items(config_section)) != dict(new_settings.items(config_section))):
        settings_changed = True

    locks_changed = sorted(new_locks) != sorted(current_locks)

    if settings_changed or locks_changed:
        changed = True

    if changed and not module.check_mode:
        # Write settings file
        with open(settings_file_path, 'w') as f:
            new_settings.write(f, space_around_delimiters=False)

        # Manage the dedicated lock file
        if new_locks:
            with open(lock_file_path, 'w') as f:
                for lock_key in new_locks:
                    f.write(f"{lock_key}\n")
        elif os.path.exists(lock_file_path):
            os.remove(lock_file_path)

        # Update dconf database
        module.run_command(["dconf", "update"], check_rc=True)

    module.exit_json(changed=changed)

if __name__ == '__main__':
    main()
